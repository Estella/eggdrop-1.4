<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.7 [en] (WinNT; U) [Netscape]">
   <title>Eggdrop Documentation: Blowfish Module</title>
</head>
<body text="#000000" bgcolor="#FFFFFF" link="#3333FF" vlink="#3333FF" alink="#3333FF">
<b><font face="Arial, Helvetica"><font color="#FF0000"><font size=-1>BLOWFISH
MODULE
<hr>TCL COMMANDS:</font></font></font></b>
<blockquote><font face="Arial, Helvetica"><font size=-1>The following tcl
commands are provided by this module (and should also be provided by any
other encryption module):</font></font>
<br>&nbsp;
<blockquote><b><font face="Arial, Helvetica"><font size=-1>encrypt &lt;key>
&lt;string></font></font></b>
<br><i><font face="Arial, Helvetica"><font size=-1>returns: encrypted string
(using blowfish), encoded into ascii using base-64 so it can be sent over
the botnet</font></font></i>
<p><b><font face="Arial, Helvetica"><font size=-1>decrypt &lt;key> &lt;encrypted-base64-string></font></font></b>
<br><i><font face="Arial, Helvetica"><font size=-1>returns: decrypted string
(using blowfish)</font></font></i><font face="Arial, Helvetica"><font size=-1></font></font>
<p><b><font face="Arial, Helvetica"><font size=-1>encpass &lt;plain-text-password></font></font></b>
<br><font face="Arial, Helvetica"><font size=-1>returns: encrypted password
(using blowfish)</font></font></blockquote>
</blockquote>

<hr><b><font face="Arial, Helvetica"><font color="#FF0000"><font size=-1>C
COMMANDS:</font></font></font></b>
<blockquote><font face="Arial, Helvetica"><font size=-1>C counterparts
of these functions are also avaliable:</font></font>
<p><font face="Arial, Helvetica"><font size=-1>&nbsp;<b>NOTE:</b> These
functions return my_malloc()'d strings which need to be freed (they are
of type memtype_misc)</font></font>
<blockquote><b><font face="Arial, Helvetica"><font size=-1>char * encrypt_string
(char * key ,char * text)</font></font></b>
<p><font face="Arial, Helvetica"><font size=-1>encrypts text with a key
of key, this is reversible encryption, achieved by using:</font></font>
<p><b><font face="Arial, Helvetica"><font size=-1>char * decrypt_string
(char * key, char * text)</font></font></b>
<p><font face="Arial, Helvetica"><font size=-1>this decrypts an encrypted
string.</font></font></blockquote>
<font face="Arial, Helvetica"><font size=-1>To use these functions make
sure your module contains a Function * encryption_funcs; variable, and
you module_start function has encryption_funcs = module_depend(ME, "encryption",
1, 1, 0);</font></font>
<p><font face="Arial, Helvetica"><font size=-1>A note to other people desiring
to make encryption modules:</font></font>
<p><font face="Arial, Helvetica"><font size=-1>Examine blowfish_start/close
closely, encryption modules are a special case which should not be able
to be unloaded, should provide the 2 functions above plus an encrypt_pass
function also (added as a hook)</font></font></blockquote>

<hr><i><font face="Arial, Helvetica"><font size=-1>(c) 1997 Robey Pointer</font></font></i>
<br><i><font face="Arial, Helvetica"><font size=-1>(c) 2000 Eggheads Development
Team</font></font></i>
</body>
</html>
